<!DOCTYPE html>
<html>
<head>
    <title>Mobile List</title>
</head>
<body>
    <h1>Mobile List</h1>
    
    <form method="get" action="{% url 'brand_filter' %}">
        <label for="nationality">Select Nationality:</label>
        <select name="nationality" id="nationality">
            <option value="">-- Select Nationality --</option>
            {% for nationality in nationalities %}
            <option value="{{ nationality }}" {% if nationality == request.GET.nationality %}selected{% endif %}>
                {{ nationality }}
            </option>
            {% endfor %}
        </select>
        <button type="submit">Filter</button>
    </form>

    <form method="get" action="{% url 'mobile_search' %}">
        <label for="brand_name">Search by Brand Name:</label>
        <input type="text" name="brand_name" id="brand_name" value="{{ brand_name }}">
        <button type="submit">Search</button>
    </form>
    
    <h2>Filtered Mobiles</h2>
    <ul>
        {% for mobile in mobiles %}
        <li>{{ mobile.brand.name }} - {{ mobile.model }} - {{ mobile.price }}{{"$"}} - {{ mobile.color }} - {{ mobile.screen_size }} - 
            {% if mobile.available %}
                Available
            {% else %}
                Not Available
            {% endif %} - {{ mobile.manufacturing_country }}
        </li>
        {% empty %}
        <li>No mobiles found.</li>
        {% endfor %}
    </ul>

    <a href="{% url 'mobile_create' %}">Add New Mobile</a>
    <br></br>
    
    <form method="get" action="{% url 'brand_filterr' %}">
        <button type="submit">Choosing the same manufacturer country as the brand country</button>
    </form>
</body>
</html>
